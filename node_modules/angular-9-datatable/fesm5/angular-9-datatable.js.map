{"version":3,"file":"angular-9-datatable.js","sources":["ng://angular-9-datatable/lib/data-table.directive.ts","ng://angular-9-datatable/lib/default-sorter.component.ts","ng://angular-9-datatable/lib/paginator.component.ts","ng://angular-9-datatable/lib/bootstrap-paginator.component.ts","ng://angular-9-datatable/lib/data-table.module.ts","ng://angular-9-datatable/public-api.ts","ng://angular-9-datatable/angular-9-datatable.ts"],"sourcesContent":["import {\r\n    Directive, Input, EventEmitter, SimpleChange, OnChanges, DoCheck, IterableDiffers,\r\n    IterableDiffer, Output\r\n} from \"@angular/core\";\r\nimport * as _ from \"lodash\";\r\nimport { ReplaySubject } from \"rxjs\";\r\n\r\nexport interface SortEvent {\r\n    sortBy: string | string[];\r\n    sortOrder: string\r\n}\r\n\r\nexport interface PageEvent {\r\n    activePage: number;\r\n    rowsOnPage: number;\r\n    dataLength: number;\r\n}\r\n\r\nexport interface DataEvent {\r\n    length: number;\r\n}\r\n\r\n@Directive({\r\n    selector: 'table[mfData]',\r\n    exportAs: 'mfDataTable'\r\n})\r\nexport class DataTable implements OnChanges, DoCheck {\r\n\r\n    private diff: IterableDiffer<any>;\r\n    @Input(\"mfData\") public inputData: any[] = [];\r\n\r\n    @Input(\"mfSortBy\") public sortBy: string | string[] = \"\";\r\n    @Input(\"mfSortOrder\") public sortOrder = \"asc\";\r\n    @Output(\"mfSortByChange\") public sortByChange = new EventEmitter<string | string[]>();\r\n    @Output(\"mfSortOrderChange\") public sortOrderChange = new EventEmitter<string>();\r\n\r\n    @Input(\"mfRowsOnPage\") public rowsOnPage = 1000;\r\n    @Input(\"mfActivePage\") public activePage = 1;\r\n\r\n    private mustRecalculateData = false;\r\n\r\n    public data: any[];\r\n\r\n    public onSortChange = new ReplaySubject<SortEvent>(1);\r\n    public onPageChange = new EventEmitter<PageEvent>();\r\n\r\n    public constructor(private differs: IterableDiffers) {\r\n        this.diff = differs.find([]).create(null);\r\n    }\r\n\r\n    public getSort(): SortEvent {\r\n        return { sortBy: this.sortBy, sortOrder: this.sortOrder };\r\n    }\r\n\r\n    public setSort(sortBy: string | string[], sortOrder: string): void {\r\n        if (this.sortBy !== sortBy || this.sortOrder !== sortOrder) {\r\n            this.sortBy = sortBy;\r\n            this.sortOrder = _.includes([\"asc\", \"desc\"], sortOrder) ? sortOrder : \"asc\";\r\n            this.mustRecalculateData = true;\r\n            this.onSortChange.next({ sortBy: sortBy, sortOrder: sortOrder });\r\n            this.sortByChange.emit(this.sortBy);\r\n            this.sortOrderChange.emit(this.sortOrder);\r\n        }\r\n    }\r\n\r\n    public getPage(): PageEvent {\r\n        return { activePage: this.activePage, rowsOnPage: this.rowsOnPage, dataLength: this.inputData.length };\r\n    }\r\n\r\n    public setPage(activePage: number, rowsOnPage: number): void {\r\n        if (this.rowsOnPage !== rowsOnPage || this.activePage !== activePage) {\r\n            this.activePage = this.activePage !== activePage ? activePage : this.calculateNewActivePage(this.rowsOnPage, rowsOnPage);\r\n            this.rowsOnPage = rowsOnPage;\r\n            this.mustRecalculateData = true;\r\n            this.onPageChange.emit({\r\n                activePage: this.activePage,\r\n                rowsOnPage: this.rowsOnPage,\r\n                dataLength: this.inputData ? this.inputData.length : 0\r\n            });\r\n        }\r\n    }\r\n\r\n    private calculateNewActivePage(previousRowsOnPage: number, currentRowsOnPage: number): number {\r\n        let firstRowOnPage = (this.activePage - 1) * previousRowsOnPage + 1;\r\n        let newActivePage = Math.ceil(firstRowOnPage / currentRowsOnPage);\r\n        return newActivePage;\r\n    }\r\n\r\n    private recalculatePage() {\r\n        let lastPage = Math.ceil(this.inputData.length / this.rowsOnPage);\r\n        this.activePage = lastPage < this.activePage ? lastPage : this.activePage;\r\n        this.activePage = this.activePage || 1;\r\n\r\n        this.onPageChange.emit({\r\n            activePage: this.activePage,\r\n            rowsOnPage: this.rowsOnPage,\r\n            dataLength: this.inputData.length\r\n        });\r\n    }\r\n\r\n    public ngOnChanges(changes: { [key: string]: SimpleChange }): any {\r\n        if (changes[\"rowsOnPage\"]) {\r\n            this.rowsOnPage = changes[\"rowsOnPage\"].previousValue;\r\n            this.setPage(this.activePage, changes[\"rowsOnPage\"].currentValue);\r\n            this.mustRecalculateData = true;\r\n        }\r\n        if (changes[\"sortBy\"] || changes[\"sortOrder\"]) {\r\n            if (!_.includes([\"asc\", \"desc\"], this.sortOrder)) {\r\n                console.warn(\"angular2-datatable: value for input mfSortOrder must be one of ['asc', 'desc'], but is:\", this.sortOrder);\r\n                this.sortOrder = \"asc\";\r\n            }\r\n            if (this.sortBy) {\r\n                this.onSortChange.next({ sortBy: this.sortBy, sortOrder: this.sortOrder });\r\n            }\r\n            this.mustRecalculateData = true;\r\n        }\r\n        if (changes[\"inputData\"]) {\r\n            this.inputData = changes[\"inputData\"].currentValue || [];\r\n            this.recalculatePage();\r\n            this.mustRecalculateData = true;\r\n        }\r\n    }\r\n\r\n    public ngDoCheck(): any {\r\n        let changes = this.diff.diff(this.inputData);\r\n        if (changes) {\r\n            this.recalculatePage();\r\n            this.mustRecalculateData = true;\r\n        }\r\n        if (this.mustRecalculateData) {\r\n            this.fillData();\r\n            this.mustRecalculateData = false;\r\n        }\r\n    }\r\n\r\n    private fillData(): void {\r\n        this.activePage = this.activePage;\r\n        this.rowsOnPage = this.rowsOnPage;\r\n\r\n        let offset = (this.activePage - 1) * this.rowsOnPage;\r\n        let data = this.inputData;\r\n        var sortBy = this.sortBy;\r\n        if (typeof sortBy === 'string' || sortBy instanceof String) {\r\n            data = _.orderBy(data, this.caseInsensitiveIteratee(<string>sortBy), this.sortOrder == 'asc' ? 'asc' : 'desc');\r\n        } else {\r\n            data = _.orderBy(data, sortBy, this.sortOrder == 'asc' ? 'asc' : 'desc');\r\n        }\r\n        data = _.slice(data, offset, offset + this.rowsOnPage);\r\n        this.data = data;\r\n    }\r\n\r\n    private caseInsensitiveIteratee(sortBy: string) {\r\n        return (row: any): any => {\r\n            var value = row;\r\n            for (let sortByProperty of sortBy.split('.')) {\r\n                if (value) {\r\n                    value = value[sortByProperty];\r\n                }\r\n            }\r\n            if (value && typeof value === 'string' || value instanceof String) {\r\n                return value.toLowerCase();\r\n            }\r\n            return value;\r\n        };\r\n    }\r\n}","import { Component, Input, OnInit } from \"@angular/core\";\r\nimport { DataTable, SortEvent } from \"./data-table.directive\";\r\n\r\n@Component({\r\n    selector: \"mfDefaultSorter\",\r\n    template: `\r\n        <a style=\"cursor: pointer\" (click)=\"sort()\" class=\"text-nowrap\">\r\n            <ng-content></ng-content>\r\n            <span *ngIf=\"isSortedByMeAsc\" class=\"glyphicon glyphicon-triangle-top fa fa-sort-up\" aria-hidden=\"true\"></span>\r\n            <span *ngIf=\"isSortedByMeDesc\" class=\"glyphicon glyphicon-triangle-bottom fa fa-sort-down\" aria-hidden=\"true\"></span>\r\n        </a>`\r\n})\r\nexport class DefaultSorter implements OnInit {\r\n    @Input(\"by\") sortBy: string;\r\n\r\n    isSortedByMeAsc: boolean = false;\r\n    isSortedByMeDesc: boolean = false;\r\n\r\n    public constructor(private mfTable: DataTable) {\r\n    }\r\n\r\n    public ngOnInit(): void {\r\n        this.mfTable.onSortChange.subscribe((event: SortEvent) => {\r\n            this.isSortedByMeAsc = (event.sortBy == this.sortBy && event.sortOrder == \"asc\");\r\n            this.isSortedByMeDesc = (event.sortBy == this.sortBy && event.sortOrder == \"desc\");\r\n        });\r\n    }\r\n\r\n    sort() {\r\n        if (this.isSortedByMeAsc) {\r\n            this.mfTable.setSort(this.sortBy, \"desc\");\r\n        } else {\r\n            this.mfTable.setSort(this.sortBy, \"asc\");\r\n        }\r\n    }\r\n}\r\n","import { Component, Input, SimpleChange, OnChanges, Optional } from \"@angular/core\";\r\nimport { DataTable, PageEvent } from \"./data-table.directive\";\r\n\r\n@Component({\r\n    selector: \"mfPaginator\",\r\n    template: `<ng-content></ng-content>`\r\n})\r\nexport class Paginator implements OnChanges {\r\n\r\n    @Input(\"mfTable\") inputMfTable: DataTable;\r\n\r\n    private mfTable: DataTable;\r\n\r\n    public activePage: number;\r\n    public rowsOnPage: number;\r\n    public dataLength: number = 0;\r\n    public lastPage: number;\r\n\r\n    public constructor(@Optional() private injectMfTable: DataTable) {\r\n    }\r\n\r\n    public ngOnChanges(changes: { [key: string]: SimpleChange }): any {\r\n        this.mfTable = this.inputMfTable || this.injectMfTable;\r\n        this.onPageChangeSubscriber(this.mfTable.getPage());\r\n        this.mfTable.onPageChange.subscribe(this.onPageChangeSubscriber);\r\n    }\r\n\r\n    public setPage(pageNumber: number): void {\r\n        this.mfTable.setPage(pageNumber, this.rowsOnPage);\r\n    }\r\n\r\n    public setRowsOnPage(rowsOnPage: number): void {\r\n        this.mfTable.setPage(this.activePage, rowsOnPage);\r\n    }\r\n\r\n    private onPageChangeSubscriber = (event: PageEvent) => {\r\n        this.activePage = event.activePage;\r\n        this.rowsOnPage = event.rowsOnPage;\r\n        this.dataLength = event.dataLength;\r\n        this.lastPage = Math.ceil(this.dataLength / this.rowsOnPage);\r\n    };\r\n}","import { Component, Input, OnChanges } from \"@angular/core\";\r\nimport { DataTable } from \"./data-table.directive\";\r\nimport * as _ from \"lodash\";\r\n\r\n@Component({\r\n    selector: \"mfBootstrapPaginator\",\r\n    template: `\r\n    <mfPaginator #p [mfTable]=\"mfTable\">\r\n        <ul class=\"pagination\" *ngIf=\"p.dataLength > p.rowsOnPage\">\r\n            <li class=\"page-item\" [class.disabled]=\"p.activePage <= 1\" (click)=\"p.setPage(1)\">\r\n                <a class=\"page-link\" style=\"cursor: pointer\">&laquo;</a>\r\n            </li>\r\n            <li class=\"page-item\" *ngIf=\"p.activePage > 4 && p.activePage + 1 > p.lastPage\" (click)=\"p.setPage(p.activePage - 4)\">\r\n                <a class=\"page-link\" style=\"cursor: pointer\">{{p.activePage-4}}</a>\r\n            </li>\r\n            <li class=\"page-item\" *ngIf=\"p.activePage > 3 && p.activePage + 2 > p.lastPage\" (click)=\"p.setPage(p.activePage - 3)\">\r\n                <a class=\"page-link\" style=\"cursor: pointer\">{{p.activePage-3}}</a>\r\n            </li>\r\n            <li class=\"page-item\" *ngIf=\"p.activePage > 2\" (click)=\"p.setPage(p.activePage - 2)\">\r\n                <a class=\"page-link\" style=\"cursor: pointer\">{{p.activePage-2}}</a>\r\n            </li>\r\n            <li class=\"page-item\" *ngIf=\"p.activePage > 1\" (click)=\"p.setPage(p.activePage - 1)\">\r\n                <a class=\"page-link\" style=\"cursor: pointer\">{{p.activePage-1}}</a>\r\n            </li>\r\n            <li class=\"page-item active\">\r\n                <a class=\"page-link\" style=\"cursor: pointer\">{{p.activePage}}</a>\r\n            </li>\r\n            <li class=\"page-item\" *ngIf=\"p.activePage + 1 <= p.lastPage\" (click)=\"p.setPage(p.activePage + 1)\">\r\n                <a class=\"page-link\" style=\"cursor: pointer\">{{p.activePage+1}}</a>\r\n            </li>\r\n            <li class=\"page-item\" *ngIf=\"p.activePage + 2 <= p.lastPage\" (click)=\"p.setPage(p.activePage + 2)\">\r\n                <a class=\"page-link\" style=\"cursor: pointer\">{{p.activePage+2}}</a>\r\n            </li>\r\n            <li class=\"page-item\" *ngIf=\"p.activePage + 3 <= p.lastPage && p.activePage < 3\" (click)=\"p.setPage(p.activePage + 3)\">\r\n                <a class=\"page-link\" style=\"cursor: pointer\">{{p.activePage+3}}</a>\r\n            </li>\r\n            <li class=\"page-item\" *ngIf=\"p.activePage + 4 <= p.lastPage && p.activePage < 2\" (click)=\"p.setPage(p.activePage + 4)\">\r\n                <a class=\"page-link\" style=\"cursor: pointer\">{{p.activePage+4}}</a>\r\n            </li>\r\n            <li class=\"page-item\" [class.disabled]=\"p.activePage >= p.lastPage\" (click)=\"p.setPage(p.lastPage)\">\r\n                <a class=\"page-link\" style=\"cursor: pointer\">&raquo;</a>\r\n            </li>\r\n        </ul>\r\n        <ul class=\"pagination pull-right float-sm-right\" *ngIf=\"p.dataLength > minRowsOnPage\">\r\n            <li class=\"page-item\" *ngFor=\"let rows of rowsOnPageSet\" [class.active]=\"p.rowsOnPage===rows\" (click)=\"p.setRowsOnPage(rows)\">\r\n                <a class=\"page-link\" style=\"cursor: pointer\">{{rows}}</a>\r\n            </li>\r\n        </ul>\r\n    </mfPaginator>\r\n    `\r\n})\r\nexport class BootstrapPaginator implements OnChanges {\r\n    @Input(\"rowsOnPageSet\") rowsOnPageSet = [];\r\n    @Input(\"mfTable\") mfTable: DataTable;\r\n\r\n    minRowsOnPage = 0;\r\n\r\n    ngOnChanges(changes: any): any {\r\n        if (changes.rowsOnPageSet) {\r\n            this.minRowsOnPage = _.min(this.rowsOnPageSet)\r\n        }\r\n    }\r\n}","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { DataTable } from './data-table.directive';\nimport { DefaultSorter } from './default-sorter.component';\nimport { Paginator } from './paginator.component';\nimport { BootstrapPaginator } from './bootstrap-paginator.component';\n\n@NgModule({\n  imports: [\n    CommonModule\n],\ndeclarations: [\n    DataTable,\n    DefaultSorter,\n    Paginator,\n    BootstrapPaginator\n],\nexports: [\n    DataTable,\n    DefaultSorter,\n    Paginator,\n    BootstrapPaginator\n]\n})\nexport class NgxDataTableModule { }\n","/*\n * Public API Surface of data-table\n */\n\nexport * from './lib/data-table.directive';\nexport * from './lib/default-sorter.component';\nexport * from './lib/paginator.component';\nexport * from './lib/bootstrap-paginator.component';\nexport * from './lib/data-table.module';\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":["_.includes","_.orderBy","_.slice","_.min"],"mappings":"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"}